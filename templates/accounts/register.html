{% extends 'base.html' %}
{% load static %}
{% block title %}Register - SAFA ADMINISTRATION{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-8">
      <div class="card" style="border: 2px solid var(--safa-black);">
        <div class="card-header text-center">
          <h2 class="mb-0">Register with SAFA</h2>
          <p class="text-muted">Register players, administrators, and club officials</p>
        </div>
        <div class="card-body">
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }}">
            {{ message }}
              </div>
            {% endfor %}
          {% endif %}

          <form method="post" enctype="multipart/form-data" novalidate
            data-id-number-id="{{ form.id_number.id_for_label }}"
            data-country-id="{{ form.country.id_for_label }}"
            data-dob-id="{{ form.date_of_birth.id_for_label }}"
            data-gender-id="{{ form.gender.id_for_label }}"
            data-id-doc-type-id="{{ form.id_document_type.id_for_label }}">
            {% csrf_token %}
            {% if form.non_field_errors %}
              <div class="alert alert-danger">
            {% for error in form.non_field_errors %}
              <p>{{ error }}</p>
            {% endfor %}
              </div>
            {% endif %}

            <!-- Account Info -->
            <h5 class="mb-3 mt-2">Account Information</h5>
            <div class="row">
              <div class="col-md-6 mb-3">
            <label for="{{ form.email.id_for_label }}" class="form-label">Email</label>
            {{ form.email }}
            {% if form.email.errors %}
              <div class="text-danger">
                {% for error in form.email.errors %}<small>{{ error }}</small>{% endfor %}
              </div>
            {% endif %}
              </div>
              <div class="col-md-6 mb-3"></div>
              <div class="col-md-6 mb-3">
            <label for="{{ form.password1.id_for_label }}" class="form-label">Password</label>
            {{ form.password1 }}
            {% if form.password1.errors %}
              <div class="text-danger">
                {% for error in form.password1.errors %}<small>{{ error }}</small>{% endfor %}
              </div>
            {% endif %}
              </div>
              <div class="col-md-6 mb-3">
            <label for="{{ form.password2.id_for_label }}" class="form-label">Confirm Password</label>
            {{ form.password2 }}
            {% if form.password2.errors %}
              <div class="text-danger">
                {% for error in form.password2.errors %}<small>{{ error }}</small>{% endfor %}
              </div>
            {% endif %}
              </div>
            </div>

            <!-- Personal Info -->
            <h5 class="mb-3 mt-4">Personal Information</h5>
            <div class="row">
              <div class="col-md-4 mb-3">
            <label for="{{ form.name.id_for_label }}" class="form-label">First Name</label>
            {{ form.name }}
            {% if form.name.errors %}
              <div class="text-danger">
                {% for error in form.name.errors %}<small>{{ error }}</small>{% endfor %}
              </div>
            {% endif %}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.middle_name.id_for_label }}" class="form-label">Middle Name</label>
            {{ form.middle_name }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.surname.id_for_label }}" class="form-label">Surname</label>
            {{ form.surname }}
            {% if form.surname.errors %}
              <div class="text-danger">
                {% for error in form.surname.errors %}<small>{{ error }}</small>{% endfor %}
              </div>
            {% endif %}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.alias.id_for_label }}" class="form-label">Alias</label>
            {{ form.alias }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.date_of_birth.id_for_label }}" class="form-label">Date of Birth</label>
            {{ form.date_of_birth }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.gender.id_for_label }}" class="form-label">Gender</label>
            {{ form.gender }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.role.id_for_label }}" class="form-label">Role</label>
            {{ form.role }}
              </div>
            </div>

            <!-- Identification -->
            <h5 class="mb-3 mt-4">Identification</h5>
            <div class="row">
              <div class="col-md-4 mb-3">
            <label for="{{ form.id_document_type.id_for_label }}" class="form-label">ID Document Type</label>
            {{ form.id_document_type }}
              </div>
              <div class="col-md-4 mb-3" id="id_number_box">
            <label for="{{ form.id_number.id_for_label }}" class="form-label">ID Number</label>
            {{ form.id_number }}
              </div>
              <div class="col-md-4 mb-3" id="passport_box">
            <label for="{{ form.passport_number.id_for_label }}" class="form-label">Passport Number</label>
            {{ form.passport_number }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.id_number_other.id_for_label }}" class="form-label">Other ID Number</label>
            {{ form.id_number_other }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.document.id_for_label }}" class="form-label">Upload Document</label>
            {{ form.document }}
              </div>
            </div>

            <!-- Contact Info -->
            <h5 class="mb-3 mt-4">Contact Information</h5>
            <div class="row">
              <div class="col-md-4 mb-3">
            <label for="{{ form.phone_number.id_for_label }}" class="form-label">Phone Number</label>
            {{ form.phone_number }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.address.id_for_label }}" class="form-label">Address</label>
            {{ form.address }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.city.id_for_label }}" class="form-label">City</label>
            {{ form.city }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.postal_code.id_for_label }}" class="form-label">Postal Code</label>
            {{ form.postal_code }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.country.id_for_label }}" class="form-label">Country</label>
            {{ form.country }}
              </div>
              <div class="col-md-4 mb-3">
            <label for="{{ form.profile_photo.id_for_label }}" class="form-label">Profile Photo</label>
            {{ form.profile_photo }}
              </div>
            </div>

            <div class="d-grid gap-2 mt-4">
              <button type="submit" class="btn btn-dark">Register</button>
            </div>
            <div class="text-center mt-3">
              <p>Already have an account? <a href="{% url 'accounts:login' %}" style="color: var(--safa-black);">Login here</a></p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'js/registration.js' %}"></script>
{% endblock %}
