{% extends 'base.html' %}
{% load static %}

{% block title %}My Digital Card - {{ user.get_full_name }}{% endblock %}

{% block extra_css %}
<style>
    .card-container {
        max-width: 400px;
        margin: 2rem auto;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        background: linear-gradient(135deg, #f5f7fa, #c3cfe2);
        font-family: 'Inter', sans-serif;
        overflow: hidden;
    }
    .card-header-img {
        background: linear-gradient(to right, #006633, #004d26);
        padding: 20px;
        text-align: center;
        color: white;
    }
    .card-header-img img {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        border: 4px solid white;
        object-fit: cover;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .card-header-img h3 {
        margin-top: 10px;
        font-weight: 700;
        font-size: 1.5rem;
    }
    .card-body {
        padding: 25px;
    }
    .card-info {
        list-style: none;
        padding: 0;
        margin: 0 0 20px 0;
    }
    .card-info li {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #e0e0e0;
        font-size: 0.95rem;
    }
    .card-info li:last-child {
        border-bottom: none;
    }
    .card-info .label {
        font-weight: 600;
        color: #555;
    }
    .card-info .value {
        font-weight: 500;
        color: #333;
        text-align: right;
    }
    .qr-code-container {
        text-align: center;
        padding: 20px;
        background-color: #ffffff;
        margin: -25px;
        margin-top: 25px;
    }
    .qr-code-container img {
        max-width: 180px;
        height: auto;
    }
    .card-footer-text {
        text-align: center;
        font-size: 0.8rem;
        color: #777;
        padding: 15px;
        background-color: #f1f1f1;
    }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="card-container">
        <div class="card-header-img">
            <img src="{{ user.profile_picture.url|default:'/static/default_profile.png' }}" alt="Profile Picture">
            <h3>{{ user.get_full_name }}</h3>
            <p class="mb-0">{{ member.get_role_display }}</p>
        </div>
        <div class="card-body">
            <ul class="card-info">
                <li>
                    <span class="label">SAFA ID</span>
                    <span class="value">{{ member.safa_id }}</span>
                </li>
                <li>
                    <span class="label">Club</span>
                    <span class="value">{{ member.current_club.name|default:'N/A' }}</span>
                </li>
                <li>
                    <span class="label">LFA</span>
                    <span class="value">{{ member.lfa.name|default:'N/A' }}</span>
                </li>
                <li>
                    <span class="label">Season</span>
                    <span class="value">{{ member.current_season.season_year|default:'N/A' }}</span>
                </li>
                <li>
                    <span class="label">Status</span>
                    <span class="value badge {% if member.status == 'ACTIVE' %}bg-success{% else %}bg-warning{% endif %}">{{ member.get_status_display }}</span>
                </li>
            </ul>
            <div class="qr-code-container">
                <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code">
            </div>
        </div>
        <div class="card-footer-text">
            South African Football Association
        </div>
    </div>
</div>
{% endblock %}
