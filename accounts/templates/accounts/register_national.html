{% load static %}
<!DOCTYPE html>
<html>
<head>
    <!-- ... existing head content ... -->
    <script src="{% static 'js/safa_global_validators.js' %}"></script>
</head>
<body>
    <form id="national-registration-form" method="post">
        {% csrf_token %}
        <!-- ... your form fields ... -->
        <div id="national-id-field">
            <label for="id_national_id">National ID:</label>
            <input type="text" id="id_national_id" name="national_id">
            <span id="national-id-error" class="error-message" style="color: red; display: none;"></span>
        </div>
        <!-- ... other form fields ... -->
        <button type="submit">Register</button>
    </form>

    <script>
        document.getElementById('national-registration-form').addEventListener('submit', function(event) {
            const nationalIdInput = document.getElementById('id_national_id');
            const errorSpan = document.getElementById('national-id-error');
            
            if (!validateNationalId(nationalIdInput.value)) {
                event.preventDefault();
                errorSpan.textContent = 'Invalid national ID number';
                errorSpan.style.display = 'inline';
            } else {
                errorSpan.style.display = 'none';
            }
        });
    </script>
</body>
</html>
